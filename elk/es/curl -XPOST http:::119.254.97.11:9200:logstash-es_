curl -XPOST http://119.254.97.11:9200/logstash-es_index_test -d '
  "mappings":{
    "es_index_test":{
      "_all":       { "enabled": false  },
      "properties":{
          "@timestamp" : {
            "type" : "date",
            "format" : "dateOptionalTime"
          },
          "date_time" : {
            "type" : "date",
            "format" : "yyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
          },
          "request_time" : {
            "type" : "date",
            "format" : "yyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
          },
          "time_stamp" : {
            "type" : "float"
          }
      }
    }
  }
'


curl -XPOST http://119.254.97.11:9200/logstash-es_index_test-YYYY.MM.DD/ -d '
{
  "index": {
    "template": "logstash-es_index_test-YYYY.MM.DD",
    "mappings":{
        "es_index_test":{
          "_all":       { "enabled": false  },
          "properties":{
              "@timestamp" : {
                "type" : "date",
                "format" : "dateOptionalTime"
              },
              "date_time" : {
                "type" : "date",
                "format" : "yyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
              },
              "request_time" : {
                "type" : "date",
                "format" : "yyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
              },
              "time_stamp" : {
                "type" : "float"
              }
          }
        }
      }
   } 
}
'


curl http://119.254.97.11:9200/logstash-es_index_test-yyyy.mm.dd/_mapping?pretty

curl http://119.254.97.11:9200/logstash-es_index_test/_mapping?pretty

curl http://119.254.97.11:9200/logstash-es_index_test_time-*.*.*/es_index_test_time/_mapping?pretty

curl -XDELETE http://119.254.97.11:9200/logstash-es_index_test_time-*.*.*/

curl -XDELETE http://119.254.97.11:9200/logstash-es_index_test



filter {
  date {
    match => [ "logdate", "yyyy-MM-dd HH:mm:ss" ]
    timezone => "Asia/Shanghai"
  }
}

curl -XDELETE http://localhost:9200/logstash-john_join_card-2016-06?pretty


curl -XDELETE http://119.254.97.11:9200/logstash-es_index_test_time?pretty

curl -XGET http://192.168.100.18:9200/_template?pretty

curl -XGET http://es-admin.xiaoxinyong.com/_template?pretty

curl -XGET http://119.254.97.35/_template?pretty

curl -XDELETE http://119.254.97.11:9200/_template/template_1


curl -XPUT http://119.254.97.11:9200/_template/template_1 -d '
{
  "order" : 1,
  "template": "logstash-es_index_test_time*",
  "settings": {
    "number_of_shards": 1
  },
  "mappings": {
    "es_index_test_time": {
      "properties": {
        "date_time" : {
            "type" : "date",
            "format" : "yyyy:MM:dd HH:mm:ss||yyyy:MM:dd"
        },
        "request_time" : {
            "type" : "date",
            "format" : "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd"
        }
      }
    }
  }
}
'


```json
curl 'http://127.0.0.1:9200/logstash-garen_user_behavior-2016.06.08/_search?search_type=count&pretty' -d '{
   "query" : {
      "filtered" : { 
         "filter" : {
            "bool" : {
              "must" : [
                 { "term" : {"action" : "user_app_launch"}},
                 {
                    "range": {
                      "@timestamp": {
                        "gte": 1465367072536,
                        "lte": 1465367972536
                      }
                    }
                  }
              ],
              "must_not" : []
           }
         }
      }
   },
   "aggs": {
     "uids": {
       "terms": {
         "field": "uid.raw",
         "size": 100
       }
     }
  }
}'
```
